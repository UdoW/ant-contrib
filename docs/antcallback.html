<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/antcallback.xml at 2020-09-20
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Dale Anson" />
    <title>Ant Contrib &#x2013; AntCallBack</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Ant Contrib</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Ant Contrib</li>
    <li><a href="intro.html" title="Introduction"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Logic Tasks</li>
    <li class="active"><a href="#"><span class="none"></span>AntCallBack</a></li>
    <li><a href="antfetch.html" title="AntFetch"><span class="none"></span>AntFetch</a></li>
    <li><a href="assert.html" title="Assert"><span class="none"></span>Assert</a></li>
    <li><a href="foreach.html" title="Foreach"><span class="none"></span>Foreach</a></li>
    <li><a href="for.html" title="For"><span class="none"></span>For</a></li>
    <li><a href="if.html" title="If"><span class="none"></span>If</a></li>
    <li><a href="outofdate.html" title="OutOfDate"><span class="none"></span>OutOfDate</a></li>
    <li><a href="relentless.html" title="Relentless"><span class="none"></span>Relentless</a></li>
    <li><a href="runtarget.html" title="RunTarget"><span class="none"></span>RunTarget</a></li>
    <li><a href="switch.html" title="Switch"><span class="none"></span>Switch</a></li>
    <li><a href="throw.html" title="Throw"><span class="none"></span>Throw</a></li>
    <li><a href="timestampselector.html" title="TimestampSelector"><span class="none"></span>TimestampSelector</a></li>
    <li><a href="trycatch.html" title="Trycatch"><span class="none"></span>Trycatch</a></li>
   <li class="nav-header">Network Tasks</li>
    <li><a href="post.html" title="HTTP Post"><span class="none"></span>HTTP Post</a></li>
    <li><a href="server_tasks.html" title="AntServer/RemoteAnt"><span class="none"></span>AntServer/RemoteAnt</a></li>
    <li><a href="importurl.html" title="ImportURL"><span class="none"></span>ImportURL</a></li>
   <li class="nav-header">Http Tasks and Types</li>
    <li><a href="http_client_type.html" title="HttpClient"><span class="none"></span>HttpClient</a></li>
    <li><a href="http_state_type.html" title="HttpState"><span class="none"></span>HttpState</a></li>
    <li><a href="post_method.html" title="PostMethod"><span class="none"></span>PostMethod</a></li>
    <li><a href="get_method.html" title="GetMethod"><span class="none"></span>GetMethod</a></li>
    <li><a href="head_method.html" title="HeadMethod"><span class="none"></span>HeadMethod</a></li>
   <li class="nav-header">Performance Monitoring and Tasks</li>
    <li><a href="performance_monitor.html" title="Performance Monitor"><span class="none"></span>Performance Monitor</a></li>
    <li><a href="stopwatch.html" title="Stopwatch"><span class="none"></span>Stopwatch</a></li>
   <li class="nav-header">Platform Tasks</li>
    <li><a href="osfamily.html" title="Osfamily"><span class="none"></span>Osfamily</a></li>
    <li><a href="shellscript.html" title="Shellscript"><span class="none"></span>Shellscript</a></li>
   <li class="nav-header">Property Tasks</li>
    <li><a href="math.html" title="Math"><span class="none"></span>Math</a></li>
    <li><a href="propertycopy.html" title="Propertycopy"><span class="none"></span>Propertycopy</a></li>
    <li><a href="propertyselector.html" title="PropertySelector"><span class="none"></span>PropertySelector</a></li>
    <li><a href="pathtofileset.html" title="Pathtofileset"><span class="none"></span>Pathtofileset</a></li>
    <li><a href="propertyregex.html" title="PropertyRegex"><span class="none"></span>PropertyRegex</a></li>
    <li><a href="sortlist.html" title="SortList"><span class="none"></span>SortList</a></li>
    <li><a href="urlencode.html" title="URLEncode"><span class="none"></span>URLEncode</a></li>
    <li><a href="variable.html" title="Variable"><span class="none"></span>Variable</a></li>
   <li class="nav-header">Process Tasks</li>
    <li><a href="forget.html" title="Forget"><span class="none"></span>Forget</a></li>
    <li><a href="limit.html" title="Limit"><span class="none"></span>Limit</a></li>
   <li class="nav-header">Other Tasks</li>
    <li><a href="antclipse.html" title="Antclipse"><span class="none"></span>Antclipse</a></li>
    <li><a href="compilewithwalls.html" title="CompileWithWalls"><span class="none"></span>CompileWithWalls</a></li>
    <li><a href="inifile.html" title="IniFile"><span class="none"></span>IniFile</a></li>
    <li><a href="verifydesign.html" title="VerifyDesign"><span class="none"></span>VerifyDesign</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="AntCallBack"></a>AntCallBack</h2>
      
<p>
        <code>antcallback</code> is identical to the standard
        <code>antcall</code> task, except that it allows properties
        set in the called target to be available in the calling
        target.
      </p>
      
<p>
        Some background may be in order: When the <code>antcall</code>
        task is used, in actuality, a new Ant project is created, and
        depending on the &quot;inheritAll&quot; property, it is populated with
        properties from the original project. Then the requested
        target in this new project is executed. Any properties set in
        the new project remain with that project, they do not get
        &quot;passed back&quot; to the original project. So, for example, if the
        target in the new project sets a property named
        <code>image.directory</code>, there is no reference to that
        property in the original. Here's an example of what I mean:
      </p>
      
<div class="source"><pre class="prettyprint">&lt;target name=&quot;testCallback&quot; description=&quot;Test CallBack&quot;&gt;
    &lt;antcallback target=&quot;-testcb&quot; return=&quot;a, b&quot;/&gt;
    &lt;echo&gt;a = ${a}&lt;/echo&gt;
    &lt;echo&gt;b = ${b}&lt;/echo&gt;
&lt;/target&gt;

&lt;target name=&quot;-testcb&quot;&gt;
    &lt;property name=&quot;a&quot; value=&quot;A&quot;/&gt;
    &lt;property name=&quot;b&quot; value=&quot;B&quot;/&gt;
&lt;/target&gt;</pre></div>
      
<p>
        The output from executing &quot;testCallback&quot; looks like this:
      </p>
      
<div class="source"><pre class="prettyprint">a = A
b = B</pre></div>
      
<p>
        Contrast with this output from <code>antcall</code>:
      </p>
      
<div class="source"><pre class="prettyprint">a = ${a}
b = ${b}</pre></div>
      
<p>
        This is an often requested feature for Ant, at least judging
        from the Ant mailing lists. I assume this is because it allows
        a more functional programming style than Ant natively
        supports. The proper Ant way of doing the above is like this:
      </p>
      
<div class="source"><pre class="prettyprint">&lt;target name=&quot;testCallback&quot; description=&quot;Test CallBack&quot; depends=&quot;-testcb&quot;&gt;
    &lt;echo&gt;a = ${a}&lt;/echo&gt;
    &lt;echo&gt;b = ${b}&lt;/echo&gt;
&lt;/target&gt;

&lt;target name=&quot;-testcb&quot;&gt;
    &lt;property name=&quot;a&quot; value=&quot;A&quot;/&gt;
    &lt;property name=&quot;b&quot; value=&quot;B&quot;/&gt;
&lt;/target&gt;</pre></div>
      
<p>
        This is actually looks cleaner in this situation, and is
        faster, too. There is significant overhead in using both
        <code>antcall</code> and <code>antcallback</code> in that they
        both require a lot of object instantiation and property
        copying. That said, many people prefer to use
        <code>antcall</code> and <code>antcallback</code> as it better
        fits their logic and style.
      </p>
      
<p>
        The attributes for <code>antcallback</code> are identical to
        the <code>antcall</code> task, with one additional, optional
        attribute. This attribute is named &quot;return&quot; and can be either
        a single property name or a comma separated list of property
        names.
      </p>
      
<table class="table table-striped" summary="AntCallBack Attributes" border="1" cellpadding="2" cellspacing="0"><caption>AntCallBack Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>return</td>
            
<td>
              A comma separated list of property names. Whitespace is
              allowed, so either &quot;a,b&quot; or &quot;a, b&quot; are acceptable.
            </td>
            
<td>None</td>
            
<td>No</td>
          </tr>
        </tbody>
      </table>
      
<p>
        For other attribute and nested element information and more
        examples, see the documentation for the
        <a class="externalLink" href="https://ant.apache.org/manual/Tasks/antcall.html">antcall
        task</a> in the Ant documentation.
      </p>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2020
<a href="https://github.com/top-logic/ant-contrib/">Ant-Contrib Project</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
