<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/math.xml at 2020-09-23
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Matthew Inger" />
    <title>Ant Contrib &#x2013; Math Task</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Ant Contrib</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-23<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0b5</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Ant Contrib</li>
    <li><a href="intro.html" title="Introduction"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Logic Tasks</li>
    <li><a href="antcallback.html" title="AntCallBack"><span class="none"></span>AntCallBack</a></li>
    <li><a href="antfetch.html" title="AntFetch"><span class="none"></span>AntFetch</a></li>
    <li><a href="assert.html" title="Assert"><span class="none"></span>Assert</a></li>
    <li><a href="foreach.html" title="Foreach"><span class="none"></span>Foreach</a></li>
    <li><a href="for.html" title="For"><span class="none"></span>For</a></li>
    <li><a href="if.html" title="If"><span class="none"></span>If</a></li>
    <li><a href="outofdate.html" title="OutOfDate"><span class="none"></span>OutOfDate</a></li>
    <li><a href="relentless.html" title="Relentless"><span class="none"></span>Relentless</a></li>
    <li><a href="runtarget.html" title="RunTarget"><span class="none"></span>RunTarget</a></li>
    <li><a href="switch.html" title="Switch"><span class="none"></span>Switch</a></li>
    <li><a href="throw.html" title="Throw"><span class="none"></span>Throw</a></li>
    <li><a href="timestampselector.html" title="TimestampSelector"><span class="none"></span>TimestampSelector</a></li>
    <li><a href="trycatch.html" title="Trycatch"><span class="none"></span>Trycatch</a></li>
   <li class="nav-header">Network Tasks</li>
    <li><a href="post.html" title="HTTP Post"><span class="none"></span>HTTP Post</a></li>
    <li><a href="server_tasks.html" title="AntServer/RemoteAnt"><span class="none"></span>AntServer/RemoteAnt</a></li>
    <li><a href="importurl.html" title="ImportURL"><span class="none"></span>ImportURL</a></li>
   <li class="nav-header">Http Tasks and Types</li>
    <li><a href="http_client_type.html" title="HttpClient"><span class="none"></span>HttpClient</a></li>
    <li><a href="http_state_type.html" title="HttpState"><span class="none"></span>HttpState</a></li>
    <li><a href="post_method.html" title="PostMethod"><span class="none"></span>PostMethod</a></li>
    <li><a href="get_method.html" title="GetMethod"><span class="none"></span>GetMethod</a></li>
    <li><a href="head_method.html" title="HeadMethod"><span class="none"></span>HeadMethod</a></li>
   <li class="nav-header">Performance Monitoring and Tasks</li>
    <li><a href="performance_monitor.html" title="Performance Monitor"><span class="none"></span>Performance Monitor</a></li>
    <li><a href="stopwatch.html" title="Stopwatch"><span class="none"></span>Stopwatch</a></li>
   <li class="nav-header">Platform Tasks</li>
    <li><a href="osfamily.html" title="Osfamily"><span class="none"></span>Osfamily</a></li>
    <li><a href="shellscript.html" title="Shellscript"><span class="none"></span>Shellscript</a></li>
   <li class="nav-header">Property Tasks</li>
    <li class="active"><a href="#"><span class="none"></span>Math</a></li>
    <li><a href="propertycopy.html" title="Propertycopy"><span class="none"></span>Propertycopy</a></li>
    <li><a href="propertyselector.html" title="PropertySelector"><span class="none"></span>PropertySelector</a></li>
    <li><a href="pathtofileset.html" title="Pathtofileset"><span class="none"></span>Pathtofileset</a></li>
    <li><a href="propertyregex.html" title="PropertyRegex"><span class="none"></span>PropertyRegex</a></li>
    <li><a href="sortlist.html" title="SortList"><span class="none"></span>SortList</a></li>
    <li><a href="urlencode.html" title="URLEncode"><span class="none"></span>URLEncode</a></li>
    <li><a href="variable.html" title="Variable"><span class="none"></span>Variable</a></li>
   <li class="nav-header">Process Tasks</li>
    <li><a href="forget.html" title="Forget"><span class="none"></span>Forget</a></li>
    <li><a href="limit.html" title="Limit"><span class="none"></span>Limit</a></li>
   <li class="nav-header">Other Tasks</li>
    <li><a href="antclipse.html" title="Antclipse"><span class="none"></span>Antclipse</a></li>
    <li><a href="compilewithwalls.html" title="CompileWithWalls"><span class="none"></span>CompileWithWalls</a></li>
    <li><a href="inifile.html" title="IniFile"><span class="none"></span>IniFile</a></li>
    <li><a href="verifydesign.html" title="VerifyDesign"><span class="none"></span>VerifyDesign</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="Math"></a>Math</h2>
      
<p>
        The <code>math</code> task provides support for all the basic
        mathematical operations provided by the
        <code>java.lang.Math</code> and
        <code>java.lang.StrictMath</code> classes. It supports
        <code>int</code>, <code>long</code>, <code>float</code> and
        <code>double</code> data types. Nesting of operations is
        supported to allow computation of formulas like <code>(6 +
        (7.25 * 3.9))/(2 * 3 * 3)</code> or calculating the area of a
        circle given a radius (I'm sure this comes up often in builds
        controlled by Ant!).
      </p>
      
<p>
        In addition to the operations provided by the
        <code>java.lang.Math</code> and
        <code>java.lang.StrictMath</code> classes, the
        <code>math</code> task provides several additional operations:
        &quot;add&quot;, &quot;subtract&quot;, &quot;multiply&quot;, &quot;divide&quot;, and &quot;mod&quot;, which
        duplicate the basic Java mathematical operations
        &quot;<code>+</code>&quot;, &quot;<code>-</code>&quot;, &quot;<code>*</code>&quot;,
        &quot;<code>/</code>&quot;, and &quot;<code>%</code>&quot;, respectively. In fact,
        either notation can be used, that is, the operation can be set
        to &quot;add&quot; or &quot;<code>+</code>&quot;, depending only on which you feel
        is more convenient.
      </p>
      
<table class="table table-striped" summary="Math Task Attributes" border="1" cellpadding="2" cellspacing="0"><caption>Math Task Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>result</td>
            
<td>The name of the property to hold the result of the operation.</td>
            
<td>None</td>
            
<td>Yes</td>
          </tr>
          
<tr class="a">
            
<td>datatype</td>
            
<td>
              Sets the datatype of the calculation. Allowed values are
              &quot;int&quot;, &quot;long&quot;, &quot;float&quot;, or &quot;double&quot;. Optional, if used,
              will be applied to all numbers in this math operation.
            </td>
            
<td>double</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>strict</td>
            
<td>
              If true, use the methods in the
              <code>java.lang.StrictMath</code> class.
            </td>
            
<td>false</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>operation</td>
            
<td>
              If used, any nested <code>op</code>s will be
              ignored. This is for convenience with simple
              calculations.
            </td>
            
<td>None</td>
            
<td>Yes, not if <code>op</code> element is used</td>
          </tr>
          
<tr class="b">
            
<td>operand1</td>
            
<td>A number to use with the operation specified in the &quot;operation&quot; attribute.</td>
            
<td>None</td>
            
<td>Depends on the specific operation.</td>
          </tr>
          
<tr class="a">
            
<td>operand2</td>
            
<td>A number to use with the operation specified in the &quot;operation&quot; attribute.</td>
            
<td>None</td>
            
<td>Depends on the specific operation.</td>
          </tr>
        </tbody>
      </table>
      
<p>
        The &quot;result&quot; property is reusable.
      </p>
      
<p>
        The <code>math</code> task supports nested <code>op</code>
        elements. An <code>op</code> element represents single
        mathematical operation, such as &quot;min&quot; or &quot;add&quot;. As an
        alternative, if using Ant 1.5+, you can specify the operation
        in the tag name itself. However, you must use the text name
        (&quot;<code>+</code>&quot;, &quot;<code>-</code>&quot;, &quot;<code>/</code>&quot;,
        &quot;<code>*</code>&quot;, &quot;<code>%</code>&quot; are not permitted as tag
        names).
      </p>
      
<div class="source"><pre class="prettyprint">&lt;radians&gt;
  &lt;num value=&quot;90&quot;/&gt;
&lt;/radians&gt;</pre></div>
      
<p>instead of</p>
      
<div class="source"><pre class="prettyprint">&lt;op op=&quot;radians&quot;&gt;
  &lt;num value=&quot;90&quot;/&gt;
&lt;/op&gt;</pre></div>
      
<table class="table table-striped" summary="Op Attributes" border="1" cellpadding="2" cellspacing="0"><caption>Op Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>op</td>
            
<td>
              Set the name of this operation. Allowed values are one
              of the method names from <code>java.lang.Math</code> or
              <code>java.lang.StrictMath</code>, or one of &quot;add&quot;,
              &quot;subtract&quot;, &quot;multiply&quot;, &quot;divide&quot;, or &quot;mod&quot; (or
              &quot;<code>+</code>&quot;, &quot;<code>-</code>&quot;, &quot;<code>*</code>&quot;,
              &quot;<code>/</code>&quot;, or &quot;<code>%</code>&quot;,
              respectively). &quot;toRadians&quot; and &quot;toDegrees&quot; can be
              represented by &quot;radians&quot; and &quot;degrees&quot;, respectively, as
              a shorthand.
            </td>
            
<td>None</td>
            
<td>Yes, if not specified in the tag name.</td>
          </tr>
          
<tr class="a">
            
<td>operation</td>
            
<td>
             
<p> Specifies the operation to execute. Possible operations are:</p>
             
<p><code>+ , - , * , / , %</code></p>
             
<p><code>abs, acos, add, asin, atan, atan2, ceil, convert, cos, degrees, divide, evaluate, execute, exp, floor, ieeeremainder,</code></p>
             
<p><code>max, min, mod, multiply, pow, radians, random, rint, round, sin, sqrt, subtract, tan, todegrees, toradians</code></p>
              
<p>For more informations please refer to:</p>
              
<p><a class="externalLink" href="https://top-logic.github.io/ant-contrib/apidocs/index.html">https://top-logic.github.io/ant-contrib/apidocs/index.html</a></p>
              
<p><a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html">https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html</a></p>
            </td>
            
<td>+</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>datatype</td>
            
<td>
              Sets the datatype of this calculation. Allowed values
              are &quot;int&quot;, &quot;long&quot;, &quot;float&quot;, or &quot;double&quot;. Optional,
              default is &quot;double&quot;. If the parent <code>math</code>
              task has a datatype set, this value will be ignored and
              the datatype specified in the task will be used.
            </td>
            
<td>&quot;int&quot;</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>arg1, arg2, arg3, arg4, arg5</td>
            
<td>
              The number arguments for this operation. This is a shorthand to
              avoid having to use nested elements when performing a
              simple calculation.
            </td>
            
<td>None</td>
            
<td>
              No. However, these attributes are mutually exclusive
              with the <code>op</code> and <code>num</code>
              subelements.
            </td>
          </tr>
        </tbody>
      </table>
      
<p>
        The <code>op</code> element supports nested <code>op</code>
        elements and nested <code>num</code> elements. A
        <code>num</code> represents a number. When an <code>op</code>
        is nested in another <code>op</code>, the result of the
        <code>op</code> is treated as a <code>num</code>. The nested
        elements can be any combination of <code>op</code> (short form
        included as mentioned above) or <code>num</code> as
        appropriate for the formula being calculated. Most of the
        operations provided by <code>java.lang.Math</code> and
        <code>java.lang.StrictMath</code> operate on one or two
        numbers. The &quot;<code>+</code>&quot;, &quot;<code>-</code>&quot;,
        &quot;<code>*</code>&quot;, &quot;<code>/</code>&quot;, and &quot;<code>%</code>&quot;
        operations can task any number of nested numbers.
      </p>
      
<table class="table table-striped" summary="Num Attributes" border="1" cellpadding="2" cellspacing="0"><caption>Num Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>value</td>
            
<td>
              Set the value for this number. Must be able to parse to
              the datatype set by the parent element or the default
              datatype set by the task. Two special numbers, pi and e,
              can be represented by &quot;PI&quot; and &quot;E&quot; respectively. (&quot;PI&quot;
              is the ratio of the diameter of a circle to its radius,
              &quot;E&quot; is Euler's e, the base for natural logarithms.)
            </td>
            
<td>None</td>
            
<td>Yes</td>
          </tr>
          
<tr class="a">
            
<td>datatype</td>
            
<td>
              Sets the datatype of this number. Allowed values are
              &quot;int&quot;, &quot;long&quot;, &quot;float&quot;, or &quot;double&quot;. Optional, default
              is &quot;double&quot;. If the parent <code>math</code> task has a
              datatype set, this value will be ignored and the
              datatype specified in the task will be used.
            </td>
            
<td>double</td>
            
<td>No</td>
          </tr>
        </tbody>
      </table>
      
<p>
        Some examples:
      </p>
      
<div class="source"><pre class="prettyprint">
&lt;var name=&quot;op1&quot; value=&quot;12&quot;/&gt;
&lt;var name=&quot;op2&quot; value=&quot;6&quot;/&gt;
&lt;var name=&quot;op&quot; value=&quot;+&quot;/&gt;

&lt;!-- demo plus --&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${op1}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;18&quot;/&gt;

&lt;!-- demo reusing result --&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${result}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;24&quot;/&gt;

&lt;!-- demo minus --&gt;
&lt;var name=&quot;op&quot; value=&quot;-&quot;/&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${op1}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;6&quot;/&gt;

&lt;!-- demo multiply --&gt;
&lt;var name=&quot;op&quot; value=&quot;*&quot;/&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${op1}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;72&quot;/&gt;

&lt;!-- demo divide --&gt;
&lt;var name=&quot;op&quot; value=&quot;/&quot;/&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${op1}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;2&quot;/&gt;

&lt;!-- demo modulo --&gt;
&lt;var name=&quot;op&quot; value=&quot;%&quot;/&gt;
&lt;math result=&quot;result&quot; operand1=&quot;${op1}&quot; operation=&quot;${op}&quot; operand2=&quot;${op2}&quot; datatype=&quot;int&quot;/&gt;
&lt;echo&gt;${op1} ${op} ${op2} = ${result}&lt;/echo&gt;
&lt;assert name=&quot;result&quot; value=&quot;0&quot;/&gt;

&lt;!-- demo calculating the area of a circle --&gt;
&lt;!-- first, calculate the radius --&gt;
&lt;math result=&quot;radius&quot;&gt;  &lt;!-- defaults to double datatype --&gt;
    &lt;op operation=&quot;*&quot; datatype=&quot;int&quot;&gt;
        &lt;num value=&quot;1&quot;/&gt;
        &lt;num value=&quot;2&quot;/&gt;
        &lt;num value=&quot;3&quot;/&gt;
        &lt;num value=&quot;4&quot;/&gt;
        &lt;num value=&quot;5&quot;/&gt;
    &lt;/op&gt;
&lt;/math&gt;
&lt;echo&gt; 1 * 2 * 3 * 4 * 5 = ${radius}&lt;/echo&gt;

&lt;!-- now calculate the area --&gt;
&lt;math result=&quot;area&quot; datatype=&quot;float&quot;&gt;
    &lt;op operation=&quot;*&quot; datatype=&quot;double&quot;&gt;
        &lt;num value=&quot;PI&quot;/&gt;
        &lt;op operation=&quot;pow&quot;&gt;
            &lt;num value=&quot;${radius}&quot;/&gt;
            &lt;num value=&quot;2&quot;/&gt;
        &lt;/op&gt;
    &lt;/op&gt;
&lt;/math&gt;
&lt;echo&gt;area = PI * radius ^ 2 = ${area}&lt;/echo&gt;

&lt;!-- Interconnect operations. --&gt;
&lt;math result=&quot;result&quot; datatype=&quot;float&quot;&gt;
    &lt;op operation=&quot;+&quot;&gt;
        &lt;op operation=&quot;/&quot;&gt;
            &lt;num value=&quot;1536&quot;/&gt;
            &lt;num value=&quot;1024&quot;/&gt;
        &lt;/op&gt;
        &lt;op operation=&quot;*&quot; datatype=&quot;int&quot;&gt;
            &lt;op operation=&quot;*&quot;&gt;
            	&lt;num value=&quot;1.5&quot; datatype=&quot;float&quot;/&gt;
            	&lt;num value=&quot;1024&quot;/&gt;
        	&lt;/op&gt;
            &lt;op operation=&quot;-&quot;&gt;
            	&lt;num value=&quot;1024&quot;/&gt;
           		&lt;num value=&quot;512&quot;/&gt;
        	&lt;/op&gt;
        &lt;/op&gt;
    &lt;/op&gt;
&lt;/math&gt;
&lt;echo&gt;1536 / 1024 + 1.5 * 1024 * (1024 - 512) = ${result}&lt;/echo&gt;

&lt;!-- demo calculating a random number between 0 and 100 --&gt;
&lt;math result=&quot;result&quot;&gt;
    &lt;op operation=&quot;rint&quot;&gt;
        &lt;op operation=&quot;*&quot;&gt;
            &lt;num value=&quot;100&quot;/&gt;
            &lt;op operation=&quot;random&quot;/&gt;
        &lt;/op&gt;
    &lt;/op&gt;
&lt;/math&gt;
&lt;echo&gt;a random number between 0 and 100: ${result}&lt;/echo&gt;

&lt;!-- demo another multiplication --&gt;
&lt;math result=&quot;result&quot; operation=&quot;multiply&quot; operand1=&quot;17&quot; operand2=&quot;13&quot;/&gt;
&lt;echo&gt;${result}&lt;/echo&gt;

&lt;!-- demo shorthand notation for calculating sin of an angle, which is degrees --&gt;
&lt;math result=&quot;sin&quot;&gt;
     &lt;sin&gt;
         &lt;radians arg1=&quot;${angle_in_degrees}&quot; /&gt;
     &lt;/sin&gt;
&lt;/math&gt;
&lt;echo&gt;${sin}&lt;/echo&gt;
</pre></div>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2020
<a href="https://github.com/top-logic/ant-contrib/">Ant-Contrib Project</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
