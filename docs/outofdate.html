<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/outofdate.xml at 2020-09-20
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Peter Reilly" />
    <title>Ant Contrib &#x2013; OutOfDate Task</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Ant Contrib</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Ant Contrib</li>
    <li><a href="intro.html" title="Introduction"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Logic Tasks</li>
    <li><a href="antcallback.html" title="AntCallBack"><span class="none"></span>AntCallBack</a></li>
    <li><a href="antfetch.html" title="AntFetch"><span class="none"></span>AntFetch</a></li>
    <li><a href="assert.html" title="Assert"><span class="none"></span>Assert</a></li>
    <li><a href="foreach.html" title="Foreach"><span class="none"></span>Foreach</a></li>
    <li><a href="for.html" title="For"><span class="none"></span>For</a></li>
    <li><a href="if.html" title="If"><span class="none"></span>If</a></li>
    <li class="active"><a href="#"><span class="none"></span>OutOfDate</a></li>
    <li><a href="relentless.html" title="Relentless"><span class="none"></span>Relentless</a></li>
    <li><a href="runtarget.html" title="RunTarget"><span class="none"></span>RunTarget</a></li>
    <li><a href="switch.html" title="Switch"><span class="none"></span>Switch</a></li>
    <li><a href="throw.html" title="Throw"><span class="none"></span>Throw</a></li>
    <li><a href="timestampselector.html" title="TimestampSelector"><span class="none"></span>TimestampSelector</a></li>
    <li><a href="trycatch.html" title="Trycatch"><span class="none"></span>Trycatch</a></li>
   <li class="nav-header">Network Tasks</li>
    <li><a href="post.html" title="HTTP Post"><span class="none"></span>HTTP Post</a></li>
    <li><a href="server_tasks.html" title="AntServer/RemoteAnt"><span class="none"></span>AntServer/RemoteAnt</a></li>
    <li><a href="importurl.html" title="ImportURL"><span class="none"></span>ImportURL</a></li>
   <li class="nav-header">Http Tasks and Types</li>
    <li><a href="http_client_type.html" title="HttpClient"><span class="none"></span>HttpClient</a></li>
    <li><a href="http_state_type.html" title="HttpState"><span class="none"></span>HttpState</a></li>
    <li><a href="post_method.html" title="PostMethod"><span class="none"></span>PostMethod</a></li>
    <li><a href="get_method.html" title="GetMethod"><span class="none"></span>GetMethod</a></li>
    <li><a href="head_method.html" title="HeadMethod"><span class="none"></span>HeadMethod</a></li>
   <li class="nav-header">Performance Monitoring and Tasks</li>
    <li><a href="performance_monitor.html" title="Performance Monitor"><span class="none"></span>Performance Monitor</a></li>
    <li><a href="stopwatch.html" title="Stopwatch"><span class="none"></span>Stopwatch</a></li>
   <li class="nav-header">Platform Tasks</li>
    <li><a href="osfamily.html" title="Osfamily"><span class="none"></span>Osfamily</a></li>
    <li><a href="shellscript.html" title="Shellscript"><span class="none"></span>Shellscript</a></li>
   <li class="nav-header">Property Tasks</li>
    <li><a href="math.html" title="Math"><span class="none"></span>Math</a></li>
    <li><a href="propertycopy.html" title="Propertycopy"><span class="none"></span>Propertycopy</a></li>
    <li><a href="propertyselector.html" title="PropertySelector"><span class="none"></span>PropertySelector</a></li>
    <li><a href="pathtofileset.html" title="Pathtofileset"><span class="none"></span>Pathtofileset</a></li>
    <li><a href="propertyregex.html" title="PropertyRegex"><span class="none"></span>PropertyRegex</a></li>
    <li><a href="sortlist.html" title="SortList"><span class="none"></span>SortList</a></li>
    <li><a href="urlencode.html" title="URLEncode"><span class="none"></span>URLEncode</a></li>
    <li><a href="variable.html" title="Variable"><span class="none"></span>Variable</a></li>
   <li class="nav-header">Process Tasks</li>
    <li><a href="forget.html" title="Forget"><span class="none"></span>Forget</a></li>
    <li><a href="limit.html" title="Limit"><span class="none"></span>Limit</a></li>
   <li class="nav-header">Other Tasks</li>
    <li><a href="antclipse.html" title="Antclipse"><span class="none"></span>Antclipse</a></li>
    <li><a href="compilewithwalls.html" title="CompileWithWalls"><span class="none"></span>CompileWithWalls</a></li>
    <li><a href="inifile.html" title="IniFile"><span class="none"></span>IniFile</a></li>
    <li><a href="verifydesign.html" title="VerifyDesign"><span class="none"></span>VerifyDesign</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="OutOfDate"></a>OutOfDate</h2>
      
<p>
        Task definition for the <code>outofdate</code> task. This is
        an extension of <code>uptodate</code> which allows multiple
        targets and contains an embedded <code>parallel</code> or
        <code>sequential</code> element. If any of the target file's
        dates are earlier than any of the source file's dates, then
        the specified <code>parallel</code> or <code>sequential</code>
        block is executed. The task may also contain mappers to map
        source files to corresponding target files.
      </p>
      <section>
<h3><a name="Parameters"></a>Parameters</h3>
        
<table class="table table-striped" summary="OutOfDate Attributes" border="1" cellpadding="2" cellspacing="0">
          
<tr class="a">
            
<th>
              
<p>Attribute</p>
            </th>
            
<th>
              
<p>Description</p>
            </th>
            
<th>
              
<p>Required</p>
            </th>
          </tr>
          
<tr class="b" valign="top">
            
<td>
              
<p>property</p>
            </td>
            
<td>
              
<p>
                The name of the property to set with the contents of
                the &quot;value&quot; parameter if any of the target files are
                out of date
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="a" valign="top">
            
<td>
              
<p>value</p>
            </td>
            
<td>
              
<p>
                The value to set the property specified by the
                &quot;property&quot; parameter to, if any of the target files
                are out of date
              </p>
            </td>
            
<td>
              
<p align="left">No, defaults to &quot;true&quot;</p>
            </td>
          </tr>
          
<tr class="b">
            
<td valign="top">force</td>
            
<td valign="top">
              Force outofdate (&quot;true&quot;/&quot;false&quot;). Default is &quot;false&quot;.
            </td>
            
<td valign="top">No</td>
          </tr>
          
<tr class="a">
            
<td valign="top">verbose</td>
            
<td valign="top">
              Set verbose logging level for this task
              (&quot;true&quot;/&quot;false&quot;). Default is &quot;false&quot;.
            </td>
            
<td valign="top">No</td>
          </tr>
          
<tr class="b" valign="top">
            
<td>
              
<p>outputsources</p>
            </td>
            
<td>
              
<p>
                The name of a property to set containing the sources
                that are newer that their corresponding targets.
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="a" valign="top">
            
<td>
              
<p>outputtargets</p>
            </td>
            
<td>
              
<p>
                The name of a property to set containing the targets
                that are outofdate with respect to their corresponding
                sources.
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="b" valign="top">
            
<td>
              
<p>alltargets</p>
            </td>
            
<td>
              
<p>
                The name of a property to set containing all the
                targets. This is useful for debugging mapper nested
                elements.
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="a" valign="top">
            
<td>
              
<p>separator</p>
            </td>
            
<td>
              
<p>
                The separator used to separate the files in the
                properties above. If a filename contains the
                separator, double quotes will be placed around the
                filename.
              </p>
            </td>
            
<td>
              
<p align="left">No, defaults to &#x201c; &#x201c;</p>
            </td>
          </tr>
          
<tr class="b" valign="top">
            
<td>
              
<p>outputsourcespath</p>
            </td>
            
<td>
              
<p>
                The id of a path to create containing the source files
                that are outofdate.
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="a" valign="top">
            
<td>
              
<p>outputtargetspath</p>
            </td>
            
<td>
              
<p>
                The id of a path to create containing the target files
                that need to be updated.
              </p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
          
<tr class="b" valign="top">
            
<td>
              
<p>alltargetspath</p>
            </td>
            
<td>
              
<p>The id of a path to create containing all the target files.</p>
            </td>
            
<td>
              
<p align="left">No</p>
            </td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Attributes_specified_as_nested_elements"></a>Attributes specified as nested elements</h3>
        </section><section>
<h3><a name="sourcefiles"></a><code>sourcefiles</code></h3>
        
<p>
          The list of files which are source files. This element is
          required.
        </p>
        </section><section>
<h3><a name="targetfiles"></a><code>targetfiles</code></h3>
        
<p>
          The list of files which are target files.
        </p>
        
<p>
          Both of these nested elements
          are <a class="externalLink" href="http://ant.apache.org/manual/using.html#path">Path</a>
          elements which are are used to select sets or lists of files or
          directories.
        </p>
        
<p>
          The <code>sourcefiles</code> may contain no files. In this
          case, <code>outofdate</code> will check the existence of the
          <code>targetfiles</code>.
        </p>
        </section><section>
<h3><a name="mapper"></a><code>mapper</code></h3>
        
<p>
          This is used to map source files to target files.
        </p>
        
<p>
          As well as the regular attributes for <code>mapper</code>,
          there is an extra attribute to specify the relative
          directory of the sources.
        </p>
        
<table class="table table-striped" summary="Mapper Attributes" border="1" cellpadding="2" cellspacing="0">
          
<tr class="a">
            
<td valign="top"><b>Attribute</b></td>
            
<td valign="top"><b>Description</b></td>
            
<td valign="top"><b>Required</b></td>
          </tr>
          
<tr class="b">
            
<td valign="top">dir</td>
            
<td valign="top">
              The directory to the sources are relative to for the
              <code>mapper</code>. Default is <code>${basedir}</code>.
            </td>
            
<td valign="top">No</td>
          </tr>
        </table>
        
<p>
          There may be a number of mapper nested elements.
        </p>
        </section><section>
<h3><a name="deletetargets"></a><code>deletetargets</code></h3>
        
<p>
          This is used to delete targets if the corresponding sources
          are outofdate.
        </p>
        
<table class="table table-striped" summary="DeleteTargets Attributes" border="1" cellspacing="0" cellpadding="2">
          
<tr class="a">
            
<td valign="top"><b>Attribute</b></td>
            
<td valign="top"><b>Description</b></td>
            
<td valign="top"><b>Required</b></td>
          </tr>
          
<tr class="b">
            
<td valign="top">all</td>
            
<td valign="top">
              Whether to delete all the targets
              (&quot;true&quot;/&quot;false&quot;). Defaults to &quot;false&quot;.
            </td>
            
<td valign="top">No</td>
          </tr>
          
<tr class="a">
            
<td valign="top">quiet</td>
            
<td valign="top">
              Do not display diagnostic messages when deleting targets
              (&quot;true&quot;/&quot;false&quot;). Defaults to false. When set to &quot;true&quot;,
              if a file or directory cannot be deleted, no error is
              reported. This setting emulates the <code>-f</code>
              option to the Unix <code>rm</code> command. Default is
              &quot;false&quot;. Setting this to &quot;true&quot; implies setting
              failonerror to &quot;false&quot;
            </td>
            
<td valign="top">No</td>
          </tr>
          
<tr class="b">
            
<td valign="top">failonerror</td>
            
<td valign="top">
              Controls whether an error (such as a failure to delete a
              file) stops the build or is merely reported to the
              screen. Only relevant if quiet is &quot;false&quot;. Default is
              &quot;true&quot;. Controls whether a failure to delete a target
              stops the build or is merely reported to the console.
            </td>
            
<td valign="top">No</td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Examples"></a>Examples</h3>
        
<p>
          The following example creates the file
          <code>${jrun.file}</code> if it is older than
          <code>build.xml</code>, or any file in
          <code>${lib.dir}</code>.
        </p>
        
<div class="source"><pre class="prettyprint">&lt;outofdate&gt;
  &lt;sourcefiles&gt;
    &lt;pathelement path=&quot;build.xml&quot;/&gt;
    &lt;fileset dir=&quot;${lib.dir}&quot;/&gt;
  &lt;/sourcefiles&gt;
  &lt;targetfiles path=&quot;${jrun.file}&quot;/&gt;
  &lt;sequential&gt;
    &lt;mkdir dir=&quot;${build.bin.dir}&quot;/&gt;
    &lt;echo file=&quot;${jrun.file}&quot; message=&quot;java -cp ${jrun.path} $*&quot;/&gt;
    &lt;chmod file=&quot;${jrun.file}&quot; perm=&quot;ugo+rx&quot;/&gt;
  &lt;/sequential&gt;
&lt;/outofdate&gt;</pre></div>
        
<p>
          The following example check the generated files, MODULE.IDS,
          acme_agent_mib.h, acme_agent_mib.cpp are older that
          miblist.txt, or any file in <code>${mib.src}</code>, and if
          so an embedded <code>shellscript</code> is invoked to update
          the files.
        </p>
        
<div class="source"><pre class="prettyprint">&lt;outofdate&gt;
  &lt;sourcefiles&gt;
    &lt;pathelement path=&quot;${agent.src}/miblist.txt&quot;/&gt;
    &lt;fileset dir=&quot;${mib.src}&quot;/&gt;
  &lt;/sourcefiles&gt;
  &lt;targetfiles&gt;
    &lt;pathelement path=&quot;${rep}/MODULE.IDS&quot;/&gt;
    &lt;pathelement path=&quot;${gen-agent}/acme_agent_mib.h&quot;/&gt;
    &lt;pathelement path=&quot;${gen-agent}/acme_agent_mib.cpp&quot;/&gt;
  &lt;/targetfiles&gt;
  &lt;sequential&gt;
    &lt;shellscript shell=&quot;bash&quot; dir=&quot;${agent.src}&quot;&gt;
        classname=com.agentpp.agentgen.AgentGenConsole
        h1=${gen-agent}/acme_agent_mib.x
        ag() {
            java -cp ${lib.dir}/agentgen.jar $classname ${rep} $@
        }
        ag initialize
        ag load miblist.txt
        ag generate ACME-AGENT-MIB h &gt; $h1
        (head -16 $h1; echo &quot;using namespace Agentpp;&quot;;
        tail +16 $h1) &gt; ${gen-agent}/acme_agent_mib.h
        ag generate ACME-AGENT-MIB c &gt;\
            ${gen-agent}/acme_agent_mib.cpp
    &lt;/shellscript&gt;
  &lt;/sequential&gt;
&lt;/outofdate&gt;</pre></div>
        
<p>
          The following example sets the project
          <code>manual.outofdate</code> if any of the .xml files are
          newer than index.html, or if any of the .xml files are newer
          than their corresponding .html file. A path identified by
          <code>sources.path</code>, is created which contains the
          sources that fulfilled these conditions.
        </p>
        
<div class="source"><pre class="prettyprint">&lt;outofdate property=&quot;manual.outofdate&quot; outputsourcespath=&quot;sources.path&quot;&gt;
  &lt;sourcefiles&gt;
    &lt;fileset dir=&quot;${src.manual}&quot; includes=&quot;**/*.xml&quot;/&gt;
  &lt;/sourcefiles&gt;
  &lt;targetfiles path=&quot;${doc.manual}/index.html&quot;/&gt;
  &lt;mapper type=&quot;glob&quot; dir=&quot;${src.manual}&quot; from=&quot;*.xml&quot; to=&quot;${doc.manual}/*.html&quot;/&gt;
&lt;/outofdate&gt;</pre></div>
        
<p>
          The following assumes that there is a program called
          <i>gengrammar</i> that takes a grammar file as an input and
          generates a .h and a .c file in the current directory.
        </p>
        
<div class="source"><pre class="prettyprint">&lt;outofdate property=&quot;manual.outofdate&quot;
           outputsources=&quot;grammar.sources&quot;&gt;
  &lt;sourcefiles&gt;
    &lt;fileset dir=&quot;${src.grammar}&quot; includes=&quot;**/*.y&quot;/&gt;
  &lt;/sourcefiles&gt;
  &lt;mapper type=&quot;glob&quot; dir=&quot;${src.grammar}&quot; from=&quot;*.y&quot; to=&quot;${gen.grammar}/*.c&quot;/&gt;
  &lt;mapper type=&quot;glob&quot; dir=&quot;${src.grammar}&quot; from=&quot;*.y&quot; to=&quot;${gen.grammar}/*.h&quot;/&gt;
  &lt;sequential&gt;
    &lt;shellscript shell=&quot;bash&quot;&gt;
        cd ${gen.grammar}
        for g in ${grammar.sources}
        do
            gengrammar $g
        done
    &lt;/shellscript&gt;
  &lt;/sequential&gt;
&lt;/outofdate&gt;</pre></div>
      </section>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2020
<a href="https://github.com/top-logic/ant-contrib/">Ant-Contrib Project</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
