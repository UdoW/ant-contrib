<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/post.xml at 2020-09-20
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Dale Anson" />
    <title>Ant Contrib &#x2013; Http Post</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Ant Contrib</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Ant Contrib</li>
    <li><a href="intro.html" title="Introduction"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Logic Tasks</li>
    <li><a href="antcallback.html" title="AntCallBack"><span class="none"></span>AntCallBack</a></li>
    <li><a href="antfetch.html" title="AntFetch"><span class="none"></span>AntFetch</a></li>
    <li><a href="assert.html" title="Assert"><span class="none"></span>Assert</a></li>
    <li><a href="foreach.html" title="Foreach"><span class="none"></span>Foreach</a></li>
    <li><a href="for.html" title="For"><span class="none"></span>For</a></li>
    <li><a href="if.html" title="If"><span class="none"></span>If</a></li>
    <li><a href="outofdate.html" title="OutOfDate"><span class="none"></span>OutOfDate</a></li>
    <li><a href="relentless.html" title="Relentless"><span class="none"></span>Relentless</a></li>
    <li><a href="runtarget.html" title="RunTarget"><span class="none"></span>RunTarget</a></li>
    <li><a href="switch.html" title="Switch"><span class="none"></span>Switch</a></li>
    <li><a href="throw.html" title="Throw"><span class="none"></span>Throw</a></li>
    <li><a href="timestampselector.html" title="TimestampSelector"><span class="none"></span>TimestampSelector</a></li>
    <li><a href="trycatch.html" title="Trycatch"><span class="none"></span>Trycatch</a></li>
   <li class="nav-header">Network Tasks</li>
    <li class="active"><a href="#"><span class="none"></span>HTTP Post</a></li>
    <li><a href="server_tasks.html" title="AntServer/RemoteAnt"><span class="none"></span>AntServer/RemoteAnt</a></li>
    <li><a href="importurl.html" title="ImportURL"><span class="none"></span>ImportURL</a></li>
   <li class="nav-header">Http Tasks and Types</li>
    <li><a href="http_client_type.html" title="HttpClient"><span class="none"></span>HttpClient</a></li>
    <li><a href="http_state_type.html" title="HttpState"><span class="none"></span>HttpState</a></li>
    <li><a href="post_method.html" title="PostMethod"><span class="none"></span>PostMethod</a></li>
    <li><a href="get_method.html" title="GetMethod"><span class="none"></span>GetMethod</a></li>
    <li><a href="head_method.html" title="HeadMethod"><span class="none"></span>HeadMethod</a></li>
   <li class="nav-header">Performance Monitoring and Tasks</li>
    <li><a href="performance_monitor.html" title="Performance Monitor"><span class="none"></span>Performance Monitor</a></li>
    <li><a href="stopwatch.html" title="Stopwatch"><span class="none"></span>Stopwatch</a></li>
   <li class="nav-header">Platform Tasks</li>
    <li><a href="osfamily.html" title="Osfamily"><span class="none"></span>Osfamily</a></li>
    <li><a href="shellscript.html" title="Shellscript"><span class="none"></span>Shellscript</a></li>
   <li class="nav-header">Property Tasks</li>
    <li><a href="math.html" title="Math"><span class="none"></span>Math</a></li>
    <li><a href="propertycopy.html" title="Propertycopy"><span class="none"></span>Propertycopy</a></li>
    <li><a href="propertyselector.html" title="PropertySelector"><span class="none"></span>PropertySelector</a></li>
    <li><a href="pathtofileset.html" title="Pathtofileset"><span class="none"></span>Pathtofileset</a></li>
    <li><a href="propertyregex.html" title="PropertyRegex"><span class="none"></span>PropertyRegex</a></li>
    <li><a href="sortlist.html" title="SortList"><span class="none"></span>SortList</a></li>
    <li><a href="urlencode.html" title="URLEncode"><span class="none"></span>URLEncode</a></li>
    <li><a href="variable.html" title="Variable"><span class="none"></span>Variable</a></li>
   <li class="nav-header">Process Tasks</li>
    <li><a href="forget.html" title="Forget"><span class="none"></span>Forget</a></li>
    <li><a href="limit.html" title="Limit"><span class="none"></span>Limit</a></li>
   <li class="nav-header">Other Tasks</li>
    <li><a href="antclipse.html" title="Antclipse"><span class="none"></span>Antclipse</a></li>
    <li><a href="compilewithwalls.html" title="CompileWithWalls"><span class="none"></span>CompileWithWalls</a></li>
    <li><a href="inifile.html" title="IniFile"><span class="none"></span>IniFile</a></li>
    <li><a href="verifydesign.html" title="VerifyDesign"><span class="none"></span>VerifyDesign</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="HTTP_Post"></a>HTTP Post</h2>
      
<p>
        The <code>post</code> task is a companion to the standard Ant
        <code>get</code> task. This task does an HTTP POST request and
        does not necessarily expect anything in return. Almost always,
        there will be some sort of returned data, this can be logged
        or written to a file if needed.
      </p>
      
<p>
        Basically, an HTTP POST sends name/value pairs to a web
        server. A very common usage is for submitting data in HTML
        forms. A typical use of this task is to send data to a servlet
        for updating a web page with the status of a build.
      </p>
      
<p>
        This task handles cookies correctly, which is useful for
        websites that set a session id to track logins or
        whatever. This means that if you do several posts in a row,
        cookies gathered from the first post will be returned with
        subsequent posts.
      </p>
      
<p>
        The <code>post</code> task has three ways of specifying the
        data to be posted. Nested <code>prop</code> elements can be
        used. A <code>prop</code> element represents a single
        name/value pair. The second way is to specify a property file
        as an attribute to the <code>post</code> task. All properties
        from the file will be sent as part of the HTTP POST data. The
        third way is to just type in some defined Ant properties. Is
        it allowed to use all three ways at once, that is, read some
        properties from a file, specify others via <code>prop</code>
        elements, and just type in some Ant properties.
      </p>
      
<table class="table table-striped" summary="Post Task Attributes" border="1" cellpadding="2" cellspacing="0"><caption>Post Task Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>to</td>
            
<td>The URL of the remote server to send the POST request to.</td>
            
<td>None</td>
            
<td>Yes</td>
          </tr>
          
<tr class="a">
            
<td>encoding</td>
            
<td>Character encoding for the name/value pairs.</td>
            
<td>UTF-8</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>logfile</td>
            
<td>The name of a file to write any response to. Ignored if &quot;wantresponse&quot; is set to false.</td>
            
<td>None</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>property</td>
            
<td>The name of a property to write any response to. Ignored if &quot;wantresponse&quot; is set to false.</td>
            
<td>None</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>append</td>
            
<td>Should an existing log file be appended to or overwritten?</td>
            
<td>True, append to an existing file.</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>file</td>
            
<td>
              A file to read POST data from. All Ant properties
              contained in this file will be resolved (that is,
              <code>${}</code> syntax will be expanded to their
              values) prior to sending the file contents.
            </td>
            
<td>None</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>rawFile</td>
            
<td>
              Should the file be treated as raw file instead of
              property-like file. True - send the content of the file
              directly to HTTP POST, all properties set by &quot;property&quot;
              are ignored!<br /> Has impact only when the property
              &quot;file&quot; is specified.
            </td>
            
<td>False, treat file as property-like</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>rawFileNoEncoding</td>
            
<td>
              Don't encode the raw file prior to sending HTTP POST
              request.<br /> Has impact only when the property
              &quot;rawFile&quot; is specified.
            </td>
            
<td>False, http-encode the content of the file</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>maxwait</td>
            
<td>
              The maximum amount of time in seconds to wait for the
              data to be sent or for a response from the remote
              server. Setting this to zero means wait forever.
            </td>
            
<td>180 (3 minutes)</td>
            
<td>No</td>
          </tr>
          
<tr class="a">
            
<td>wantresponse</td>
            
<td>
              Whether to wait for a response from the remote server or
              not. In many cases this can greatly improve the
              performance of the build script as the server response
              may be large and useless to the script. Use this with
              caution - while the response from the server may not be
              required for the client, the server may require that the
              client accept the response prior to processing the
              <code>post</code> data.
            </td>
            
<td>true</td>
            
<td>No</td>
          </tr>
          
<tr class="b">
            
<td>failonerror</td>
            
<td>Whether the build should fail if the <code>post</code> fails.</td>
            
<td>false</td>
            
<td>No</td>
          </tr>
        </tbody>
      </table>
      
<p>
        <code>post</code> supports nested <code>prop</code>
        elements. As an HTTP POST basically sends a list of names and
        values, the <code>prop</code> element represents one
        name/value pair. A <code>post</code> may contain any number of
        <code>prop</code> elements.
      </p>
      
<table class="table table-striped" summary="Prop Attributes" border="1" cellpadding="2" cellspacing="0"><caption>Prop Attributes</caption>
        
        <thead>
          
<tr class="a">
            
<th>Attribute</th>
            
<th>Description</th>
            
<th>Default</th>
            
<th>Required</th>
          </tr>
        </thead>
        <tbody>
          
<tr class="b">
            
<td>name</td>
            
<td>The name of a property to post.</td>
            
<td>None</td>
            
<td>Yes</td>
          </tr>
          
<tr class="a">
            
<td>value</td>
            
<td>The value associated with the name.</td>
            
<td>None</td>
            
<td>No</td>
          </tr>
        </tbody>
      </table>
      
<p>
        The &quot;value&quot; attribute is not strictly required. This provides
        a short-cut method in cases where the property data is an
        already-defined Ant property. Suppose the build file has this
        property defined:
      </p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;src.dir&quot; value=&quot;/home/user/project/src&quot;/&gt;</pre></div>
      
<p>
        Then the following are equivalent:
      </p>
      
<div class="source"><pre class="prettyprint">&lt;prop name=&quot;src.dir&quot;/&gt;
&lt;prop name=&quot;src.dir&quot; value=&quot;${src.dir}&quot;/&gt;
&lt;prop name=&quot;src.dir&quot; value=&quot;/home/user/project/src&quot;/&gt;</pre></div>
      
<p>
        Defined Ant properties can be entered directly into the
        <code>post</code> element. Again, suppose the build file has
        this property defined:
      </p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;src.dir&quot; value=&quot;/home/user/project/src&quot;/&gt;</pre></div>
      
<p>
        Then the following are equivalent:
      </p>
      
<div class="source"><pre class="prettyprint">${src.dir}
&lt;prop name=&quot;src.dir&quot;/&gt;
&lt;prop name=&quot;src.dir&quot; value=&quot;${src.dir}&quot;/&gt;
&lt;prop name=&quot;src.dir&quot; value=&quot;/home/user/project/src&quot;/&gt;</pre></div>
      
<p>
        I googled for the URL in the following example.
      </p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;test.val&quot; value=&quot;here's my test value&quot;/&gt;
&lt;property name=&quot;test.val2&quot; value=&quot;second test value&quot;/&gt;
&lt;post to=&quot;http://wwwj.cs.unc.edu:8888/tang/servlet/tangGetPostServlet&quot;
      verbose=&quot;true&quot;&gt;
    &lt;prop name=&quot;prop1&quot; value=&quot;val1 ${test.val}&quot;/&gt;
    &lt;prop name=&quot;prop2&quot; value=&quot;val1 value 2&quot;/&gt;
    &lt;prop name=&quot;prop3&quot; value=&quot;val got some spaces %funky ^$* chars&quot;/&gt;
    &lt;prop name=&quot;prop4&quot; value=&quot;&amp;amp;amp; do an ampersand like this &amp;amp;amp;amp; or Ant will whine&quot;/&gt;
    &lt;prop name=&quot;thanks&quot; value=&quot;dude, thanks for the echo server!&quot;/&gt;
    &lt;prop name=&quot;test.val&quot;/&gt;
    ${test.val2}
&lt;/post&gt;</pre></div>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2020
<a href="https://github.com/top-logic/ant-contrib/">Ant-Contrib Project</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
