<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
  <properties>
    <title>Relentless Task</title>
    <author email="clheiny@users.sf.net">Christopher Heiny</author>
  </properties>
  <body>
    <section name="Relentless">
    <p>
      The <code>relentless</code> task will execute all of the nested
      tasks, regardless of whether one or more of the nested tasks
      fails. When <code>relentless</code> has completed executing the
      nested tasks, it will either
    </p>
    <ul>
        <li>fail, if any one or more of the nested tasks failed; or</li>
        <li>succeed, if all of the nested tasks succeeded.</li>
    </ul>
    <p>
      An appropriate message will be written to the log.
    </p>
    <p>
      Tasks are executed in the order that they appear within the
      <code>relentless</code> task. It is up to the user to ensure
      that relentless execution of the nested tasks is safe.
    </p>
    <p>
      <em>
        This task only works for Ant version 1.6+
      </em>
    </p>
    <subsection name="Parameters">
    <table summary="Relentless Attributes" border="1" cellpadding="2" cellspacing="0">
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top">description</td>
        <td valign="top">
          A string that will be included in the log output. This can
          be useful for helping to identify sections of large Ant
          builds.
        </td>
        <td align="center" valign="top">No</td>
      </tr>
      <tr>
        <td valign="top">terse</td>
        <td valign="top">
          Setting this to <code>true</code> will eliminate some of the
          progress output generated by <code>relentless</code>. This
          can reduce clutter in some cases. The default value is
          <code>false</code>.
        </td>
        <td align="center" valign="top">No</td>
      </tr>
    </table>
    </subsection>
    <subsection name="Nested elements">
    <h3>task list</h3>
    <p>
      The only nested element supported by <code>relentless</code> is
      a list of tasks to be executed. At least one task must be
      specified.
    </p>
    <p>
      It is important to note that <code>relentless</code> only
      proceeds relentlessly from one task to the next - it does
      <b>not</b> apply recursively to any tasks that might be invoked
      by these nested tasks. If a nested task invokes some other list
      of tasks (perhaps by <code>antcall</code> for example), and one
      of those other tasks fails, then the nested task will stop at
      that point.
    </p>
    <h3>Example</h3>
    <p>
      A relentless task to print out the first five canonical variable
      names:
    </p>
    <source><![CDATA[<relentless description="The first five canonical variable names.">
    <echo>foo</echo>
    <echo>bar</echo>
    <echo>baz</echo>
    <echo>bat</echo>
    <echo>blah</echo>
</relentless>]]></source>
    <p>
      which should produce output looking more or less like
    </p>
      <source>[relentless] Relentlessly executing: The first five canonical variable names.
[relentless] Executing: task 1
     [echo] foo
[relentless] Executing: task 2
     [echo] bar
[relentless] Executing: task 3
     [echo] baz
[relentless] Executing: task 4
     [echo] bat
[relentless] Executing: task 5
     [echo] blah
[relentless] All tasks completed successfully.</source>
    <p>
      If you change the first line to set the <code>terse</code>
      parameter,
    </p>
    <source><![CDATA[<relentless terse="true" description="The first five canonical variable names."/>]]></source>
    <p>
      the output will look more like this:
    </p>
      <source>[relentless] Relentlessly executing: The first five canonical variable names.
     [echo] foo
     [echo] bar
     [echo] baz
     [echo] bat
     [echo] blah
[relentless] All tasks completed successfully.</source>
    <p>
      If we change the third task to deliberately fail
    </p>
      <source><![CDATA[<relentless terse="true" description="The first five canonical variable names.">
    <echo>foo</echo>
    <echo>bar</echo>
    <fail>baz</fail>
    <echo>bat</echo>
    <echo>blah</echo>
</relentless>]]></source>
      <p>
        then the output should look something like this.
      </p>
      <source>[relentless] Relentlessly executing: The first five canonical variable names.
     [echo] foo
     [echo] bar
[relentless] Task task 3 failed: baz
     [echo] bat
     [echo] blah

BUILD FAILED
/home/richter/firmware/sensor/build.xml:1177: Relentless execution: 1 of 5 tasks failed.</source>
    </subsection>
    </section>
  </body>
</document>
